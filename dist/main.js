!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0),i(1);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=.05,a=.02,o=1.5,h=1.5,l=5,r=5,u=30,c=50,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dimensions=e,this.x=450,this.y=160,this.x_vel=0,this.y_vel=0,this.width=u,this.height=c,this.lives=3,this.facing=this.x_vel>=0?"right":"left",this.ethereal=!0;var i=this;setTimeout((function(){i.ethereal=!1}),3e3)}var e,i,d;return e=t,(i=[{key:"fly",value:function(){this.y_vel-=o}},{key:"moveLeft",value:function(){this.x_vel-=h}},{key:"moveRight",value:function(){this.x_vel+=h}},{key:"moveJouster",value:function(){this.y+=this.y_vel,this.y_vel+=s,this.x+=this.x_vel,this.x_vel>0?this.x_vel<a?this.x_vel=0:this.x_vel-=a:this.x_vel<0&&(-this.x_vel<a?this.x_vel=0:this.x_vel+=a),Math.abs(this.x_vel)>r&&(this.x_vel>0?this.x_vel=r:this.x_vel=-1*r),Math.abs(this.y_vel)>l&&(this.y_vel>0?this.y_vel=l:this.y_vel=-1*l),this.x>this.dimensions.width?this.x=0:this.x<0&&(this.x=this.dimensions.width),this.y<=0&&(this.y=1,this.y_vel=-this.y_vel/4)}},{key:"drawJouster",value:function(t){var e;this.facing=this.x_vel>0?"right":"left","left"===this.facing?(e=this.ethereal?document.getElementById("luke-left-frozen"):document.getElementById("luke-left"),t.drawImage(e,this.x-5,this.y-10,u+10,c+15)):(e=this.ethereal?document.getElementById("luke-right-frozen"):document.getElementById("luke-right"),t.drawImage(e,this.x-5,this.y-10,u+10,c+15))}},{key:"animate",value:function(t){this.moveJouster(),this.drawJouster(t)}},{key:"dead",value:function(){document.getElementById("death-sound").play(),this.lives-=1,this.x=1500,this.y=1500;var t=this;setTimeout((function(){t.x=450,t.y=160,t.x_vel=0,t.y_vel=0,t.ethereal=!0,setTimeout((function(){t.ethereal=!1}),3e3)}),2e3)}}])&&n(e.prototype,i),d&&n(e,d),t}();function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=30,m=50,g=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.x_vel=Math.random()<.5?-3:3,this.y_vel=0,this.width=f,this.height=m,this.facing=this.x_vel>=0?"right":"left"}var e,i,n;return e=t,(i=[{key:"moveNPC",value:function(){this.y+=this.y_vel,this.x+=this.x_vel,this.y>400&&(this.y=Math.floor(400*Math.random())),this.x>1e3?this.x=0:this.x<0&&(this.x=1e3)}},{key:"drawNPC",value:function(t){var e;"left"===this.facing?(e=document.getElementById("sith-left"),t.drawImage(e,this.x-5,this.y-10,f+10,m+15)):(e=document.getElementById("sith-right"),t.drawImage(e,this.x-5,this.y-10,f+10,m+15))}},{key:"animate",value:function(t){this.moveNPC(),this.drawNPC(t)}},{key:"collidedWith",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,s=this.y+this.height>t.y;return!!(e&&i&&n&&s)}},{key:"collide",value:function(t){return"left"===this.facing&&"left"===t.facing?t.x>this.x:"right"===this.facing&&"right"===t.facing?t.x<this.x:t.y<this.y}}])&&y(e.prototype,i),n&&y(e,n),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e.width,this.height=e.height,this.x=e.x,this.y=e.y}var e,i,n;return e=t,(i=[{key:"drawLedge",value:function(t){t.fillStyle="#783200",t.fillRect(this.x,this.y,this.width,this.height)}},{key:"animate",value:function(t){this.drawLedge(t)}},{key:"collisionHandler",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,s=this.y+this.height>t.y;e&&i&&n&&s&&((t.x+t.width>=this.x||t.x<=this.x+this.width)&&(t.x_vel=-.75*t.x_vel),(t.y+t.height>=this.y||t.y<=this.y+this.height)&&(t.y_vel=-.75*t.y_vel))}},{key:"eggCollision",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,s=this.y+this.height>t.y;e&&i&&n&&s&&(t.y_vel=0,t.y=this.y-t.height-1)}}])&&v(e.prototype,i),n&&v(e,n),t}();function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e.width,this.height=e.height,this.x=e.x,this.y=e.y}var e,i,n;return e=t,(i=[{key:"drawLava",value:function(t){t.fillStyle="#E24C00",t.fillRect(this.x,this.y,this.width,this.height)}},{key:"animate",value:function(t){this.drawLava(t)}},{key:"collisionHandler",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,s=this.y+this.height>t.y;return!!(e&&i&&n&&s)}},{key:"eggCollision",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,s=this.y+this.height>t.y;e&&i&&n&&s&&(t.y_vel=0,t.y=this.y-t.height-1)}}])&&w(e.prototype,i),n&&w(e,n),t}();function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=.05,k=5,I=30,_=30,B=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.width=I,this.height=_,this.y_vel=0,this.status="unattainable",this.picture=!1,this.respawn=!1;var n=this;setInterval((function(){n.picture=!n.picture}),500),setTimeout((function(){n.status="attainable"}),2e3),setTimeout((function(){n.respawn=!0}),1e4)}var e,i,n;return e=t,(i=[{key:"moveEgg",value:function(){this.y+=this.y_vel,this.y_vel+=E,Math.abs(this.y_vel)>k&&(this.y_vel>0?this.y_vel=k:this.y_vel=-1*k)}},{key:"drawEgg",value:function(t){var e;e="unattainable"===this.status||this.picture?"lightsaber":"lightsaber-flashing";var i=document.getElementById(e);t.drawImage(i,this.x-5,this.y-5,this.width+10,this.height+10)}},{key:"animate",value:function(t){this.moveEgg(),this.drawEgg(t)}},{key:"collisionHandler",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,s=this.y+this.height>t.y;return!!(e&&i&&n&&s)&&("attainable"===this.status||void 0)}}])&&b(e.prototype,i),n&&b(e,n),t}();function C(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=function(){function t(e,i,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.x=i,this.y=n,this.time=s,this.kill=!1;var a=this;setTimeout((function(){a.kill=!0}),a.time)}var e,i,n;return e=t,(i=[{key:"drawJoustAnimation",value:function(t){var e=document.getElementById(this.type);t.drawImage(e,this.x,this.y)}},{key:"animate",value:function(t){this.drawJoustAnimation(t)}}])&&C(e.prototype,i),n&&C(e,n),t}();function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var J={easy:6,medium:10,hard:15},P={easy:1e4,medium:8e3,hard:5e3},T=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.dimensions={width:e.width,height:e.height},this.Jouster=new d(this.dimensions),this.diff=i,this.running=!0,this.NPCs=[];for(var n=0;n<J[this.diff];n++)this.NPCs.push(new g(Math.floor(Math.random()*this.dimensions.width),Math.floor(Math.random()*this.dimensions.height)));var s=new x({width:500,height:30,x:250,y:470}),a=new x({width:150,height:20,x:50,y:100}),o=new x({width:150,height:20,x:400,y:125}),h=new x({width:150,height:20,x:800,y:100}),l=new x({width:150,height:20,x:50,y:300}),r=new x({width:150,height:20,x:400,y:325}),u=new x({width:150,height:20,x:800,y:300});this.ledges=[s,a,o,h,l,r,u];var c=new p({width:250,height:20,x:0,y:480}),y=new p({width:250,height:20,x:750,y:480});this.lavas=[c,y],this.eggs=[],this.animations=[],this.score=0,this.stars=[];for(var f=0;f<125;f++)this.stars.push([Math.floor(Math.random()*this.dimensions.width),Math.floor(Math.random()*this.dimensions.height)]);this.registerGameControls(),this.restart(),this.music=document.getElementById("background-music"),this.music.play();var m=this;setInterval((function(){var t=new S("lightning",Math.floor(Math.random()*m.dimensions.width),Math.floor(Math.random()*m.dimensions.height),0);m.animations.push(t),setTimeout((function(){var e=new g(t.x,t.y);m.NPCs.push(e)}),500)}),P[this.diff])}var e,i,n;return e=t,(i=[{key:"restart",value:function(){this.animate()}},{key:"registerGameControls",value:function(){var t=this;document.addEventListener("keydown",(function(e){return e.isComposing||32===e.keyCode?t.space():e.isComposing||37===e.keyCode?t.moveLeft():e.isComposing||39===e.keyCode?t.moveRight():e.isComposing||77===e.keyCode?t.exitToMenu():void 0}))}},{key:"space",value:function(t){this.Jouster.fly()}},{key:"moveLeft",value:function(t){this.Jouster.moveLeft()}},{key:"moveRight",value:function(t){this.Jouster.moveRight()}},{key:"animate",value:function(){var t=this;this.drawBackground(this.ctx),this.ledges.forEach((function(e){e.animate(t.ctx)})),this.lavas.forEach((function(e){e.animate(t.ctx)})),this.drawScore(this.ctx),this.drawLives(this.ctx),this.Jouster.animate(this.ctx),this.NPCs.forEach((function(e){e.animate(t.ctx)})),this.eggs.forEach((function(e){e.animate(t.ctx)})),this.animations.forEach((function(e){e.animate(t.ctx)})),this.collisionCheck(),this.eggRespawn(),this.joustAnimationDisplay(),this.req=requestAnimationFrame(this.animate.bind(this)),this.running||cancelAnimationFrame(this.req)}},{key:"exitToMenu",value:function(){this.music.pause(),this.running=!1,document.getElementById("joust").style.zIndex="2",document.getElementById("cantina").play()}},{key:"gameOver",value:function(){this.music.pause(),document.getElementById("palpatine").play(),this.running=!1;var t=document.getElementById("joust"),e=document.getElementById("score-submit");e.style.zIndex="6";var i=document.getElementById("score-submit-button"),n=this;i.addEventListener("click",(function(){localStorage.setItem(document.getElementById("score-submit-username").value,n.score);for(var i=document.getElementById("leaderboard-names"),s=document.getElementById("leaderboard-scores"),a={Sinan:1500,Al:1250},o=0;o<localStorage.length;o++)["game","loglevel:webpack-dev-server"].includes(localStorage.key(o))||(a[localStorage.key(o)]=parseInt(localStorage.getItem(localStorage.key(o))));Object.keys(a).sort((function(t,e){return a[t]-a[e]})).reverse().forEach((function(t){var e=document.createElement("li");e.innerHTML="".concat(t),i.append(e);var n=document.createElement("li");n.innerHTML="".concat(a[t]),s.append(n)})),e.style.zIndex="2",t.style.zIndex="3",document.getElementById("leaderboard").style.zIndex="7",console.log("a")}))}},{key:"drawBackground",value:function(t){t.fillStyle="#191919",t.fillRect(0,0,this.dimensions.width,this.dimensions.height),this.stars.forEach((function(e){t.fillStyle="white",t.fillRect(e[0],e[1],2,2)}))}},{key:"collisionCheck",value:function(){var t=this;this.NPCs.forEach((function(e,i){if(e.collidedWith(t.Jouster)&&!t.Jouster.ethereal)if(e.collide(t.Jouster)){var n=["collision1","collision2","collision3"],s=n[Math.floor(Math.random()*n.length)];document.getElementById(s).play(),t.NPCs.splice(i,1),t.eggs.push(new B(e.x,e.y))}else 1===t.Jouster.lives?t.gameOver():t.Jouster.dead()})),t.ledges.forEach((function(e){e.collisionHandler(t.Jouster),t.eggs.forEach((function(t){e.eggCollision(t)}))})),t.lavas.forEach((function(e){!t.Jouster.ethereal&&e.collisionHandler(t.Jouster)&&(1===t.Jouster.lives?t.gameOver():t.Jouster.dead()),t.eggs.forEach((function(t){e.eggCollision(t)}))})),t.eggs.forEach((function(e,i){e.collisionHandler(t.Jouster)&&(document.getElementById("pickup").play(),t.score+=150,t.animations.push(new S("score-tag",e.x-10,e.y-10,1e3)),t.eggs.splice(i,1))}))}},{key:"eggRespawn",value:function(){var t=this;this.eggs.forEach((function(e,i){if(e.respawn){t.eggs.splice(i,1),t.animations.push(new S("lightning",e.x-5,e.y-5,300));var n=new g(e.x,e.y);t.NPCs.push(n),n.y!==e.y&&t.animations.push(new S("lightning",n.x-5,n.y-5,300))}}))}},{key:"joustAnimationDisplay",value:function(){var t=this;this.animations.forEach((function(e,i){e.kill&&t.animations.splice(i,1)}))}},{key:"drawScore",value:function(t){var e=0===this.score?65:90;t.fillStyle="white",t.fillRect(506,13,e+4,24),t.fillStyle="#191919",t.fillRect(508,15,e,20),t.font="18px Sans Serif",t.fillStyle="white";var i="Score: ".concat(this.score);t.fillText(i,510,30)}},{key:"drawLives",value:function(t){t.fillStyle="white",t.fillRect(396,13,59,24),t.fillStyle="#191919",t.fillRect(398,15,55,20);var e=document.getElementById("heart");t.drawImage(e,393,10,40,40),t.font="18px Sans Serif",t.fillStyle="white";var i="x ".concat(this.Jouster.lives);t.fillText(i,425,30)}}])&&M(e.prototype,i),n&&M(e,n),t}(),j=document.getElementById("joust"),L=document.getElementById("easy-button"),O=document.getElementById("medium-button"),R=document.getElementById("hard-button"),z=document.getElementById("music-button"),N=document.getElementById("leaderboard-play-again"),H=document.getElementById("leaderboard-back-to-menu"),A=(document.getElementById("score-submit-button"),document.getElementById("background-music")),q=document.getElementById("collision1"),D=document.getElementById("collision2"),F=document.getElementById("collision3"),G=document.getElementById("palpatine"),W=document.getElementById("death-sound"),K=document.getElementById("pickup"),Q=document.getElementById("cantina");Q.volume=.2,Q.play(),z.addEventListener("click",(function(){var t=[A,Q,q,D,F,G,W,K];Q.volume>0?(t.forEach((function(t){return t.volume=0})),document.getElementById("music-button-image").src="./src/images/muted.png"):(t.forEach((function(t){return t.volume=.3})),document.getElementById("music-button-image").src="./src/images/unmuted.png")})),L.addEventListener("click",(function(){Q.pause(),j.style.zIndex="5",L.blur(),j.focus(),localStorage.setItem("game","easy"),new T(j,"easy")})),O.addEventListener("click",(function(){Q.pause(),j.style.zIndex="5",O.blur(),j.focus(),localStorage.setItem("game","medium"),new T(j,"medium")})),R.addEventListener("click",(function(){Q.pause(),j.style.zIndex="5",R.blur(),j.focus(),localStorage.setItem("game","hard"),new T(j,"hard")})),N.addEventListener("click",(function(){document.getElementById("leaderboard").style.zIndex="1",j.style.zIndex="5",N.blur(),j.focus(),new T(j,localStorage.getItem("game"))})),H.addEventListener("click",(function(){document.getElementById("leaderboard").style.zIndex="1",H.blur(),document.getElementById("cantina").play()}))}]);
//# sourceMappingURL=main.js.map