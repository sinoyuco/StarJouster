!function(t){var e={};function i(n){if(e[n])return e[n].exports;var h=e[n]={i:n,l:!1,exports:{}};return t[n].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(n,h,function(e){return t[e]}.bind(null,h));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0),i(1);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=.05,s=.02,a=1.5,o=1.5,l=5,r=5,u=30,c=50,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dimensions=e,this.x=450,this.y=160,this.x_vel=0,this.y_vel=0,this.width=u,this.height=c,this.lives=3,this.facing=this.x_vel>=0?"right":"left",this.ethereal=!0;var i=this;setTimeout((function(){i.ethereal=!1}),3e3)}var e,i,y;return e=t,(i=[{key:"fly",value:function(){this.y_vel-=a}},{key:"moveLeft",value:function(){this.x_vel-=o}},{key:"moveRight",value:function(){this.x_vel+=o}},{key:"moveJouster",value:function(){this.y+=this.y_vel,this.y_vel+=h,this.x+=this.x_vel,this.x_vel>0?this.x_vel<s?this.x_vel=0:this.x_vel-=s:this.x_vel<0&&(-this.x_vel<s?this.x_vel=0:this.x_vel+=s),Math.abs(this.x_vel)>r&&(this.x_vel>0?this.x_vel=r:this.x_vel=-1*r),Math.abs(this.y_vel)>l&&(this.y_vel>0?this.y_vel=l:this.y_vel=-1*l),this.x>this.dimensions.width?this.x=0:this.x<0&&(this.x=this.dimensions.width),this.y<=0&&(this.y=1,this.y_vel=-this.y_vel/4)}},{key:"drawJouster",value:function(t){var e;this.facing=this.x_vel>0?"right":"left","left"===this.facing?(e=this.ethereal?document.getElementById("luke-left-frozen"):document.getElementById("luke-left"),t.drawImage(e,this.x-5,this.y-10,u+10,c+15)):(e=this.ethereal?document.getElementById("luke-right-frozen"):document.getElementById("luke-right"),t.drawImage(e,this.x-5,this.y-10,u+10,c+15))}},{key:"animate",value:function(t){this.moveJouster(),this.drawJouster(t)}},{key:"dead",value:function(){document.getElementById("death-sound").play(),this.lives-=1,this.x=1500,this.y=1500;var t=this;setTimeout((function(){t.x=450,t.y=160,t.x_vel=0,t.y_vel=0,t.ethereal=!0,setTimeout((function(){t.ethereal=!1}),3e3)}),2e3)}}])&&n(e.prototype,i),y&&n(e,y),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=30,g=50,v=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.x_vel=Math.random()<.5?-3:3,this.y_vel=0,this.width=f,this.height=g,this.facing=this.x_vel>=0?"right":"left"}var e,i,n;return e=t,(i=[{key:"moveNPC",value:function(){this.y+=this.y_vel,this.x+=this.x_vel,this.y>400&&(this.y=Math.floor(400*Math.random())),this.x>1e3?this.x=0:this.x<0&&(this.x=1e3)}},{key:"drawNPC",value:function(t){var e;"left"===this.facing?(e=document.getElementById("sith-left"),t.drawImage(e,this.x-5,this.y-10,f+10,g+15)):(e=document.getElementById("sith-right"),t.drawImage(e,this.x-5,this.y-10,f+10,g+15))}},{key:"animate",value:function(t){this.moveNPC(),this.drawNPC(t)}},{key:"collidedWith",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,h=this.y+this.height>t.y;return!!(e&&i&&n&&h)}},{key:"collide",value:function(t){return"left"===this.facing&&"left"===t.facing?t.x>this.x:"right"===this.facing&&"right"===t.facing?t.x<this.x:t.y<this.y}}])&&d(e.prototype,i),n&&d(e,n),t}();function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e.width,this.height=e.height,this.x=e.x,this.y=e.y}var e,i,n;return e=t,(i=[{key:"drawLedge",value:function(t){t.fillStyle="#783200",t.fillRect(this.x,this.y,this.width,this.height)}},{key:"animate",value:function(t){this.drawLedge(t)}},{key:"collisionHandler",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,h=this.y+this.height>t.y;if(e&&i&&n&&h){var s=t.x+t.width>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height,a=t.x+t.width>=this.x&&t.x+t.width<=this.x+this.width&&t.y+t.height>=this.y&&t.y+t.height<=this.y+this.height,o=t.x<this.x+this.width&&t.x>this.x&&t.y>=this.y&&t.y<=this.y+this.height,l=t.x<this.x+this.width&&t.x>this.x&&t.y+t.height>=this.y&&t.y+t.height<=this.y+this.height;o&&s?(t.y=this.y+this.height+.1,t.y_vel=-.25*t.y_vel):l&&a?(t.y=this.y-t.height-.1,t.y_vel=-.25*t.y_vel):o&&l?(t.x=this.x+this.width+1,t.x_vel=-.25*t.x_vel):s&&a?(t.x=this.x-t.width-1,t.x_vel=-.25*t.x_vel):l?this.x+this.width-t.x<t.y+t.height-this.y?(t.x=this.x+this.width+1,t.x_vel=-.25*t.x_vel):(t.y=this.y-t.height-.1,t.y_vel=-.25*t.y_vel):a?t.x+t.width-this.x<t.y+t.height-this.y?(t.x=this.x-t.width-1,t.x_vel=-.25*t.x_vel):(t.y=this.y-t.height-.1,t.y_vel=-.25*t.y_vel):o?this.x+this.width-t.x<this.y+this.height-t.y?(t.x=this.x+this.width+1,t.x_vel=-.25*t.x_vel):(t.y=this.y+this.height+.1,t.y_vel=-.25*t.y_vel):s?t.x+t.width-this.x<this.y+this.height-t.y?(t.x=this.x-t.width-1,t.x_vel=-.25*t.x_vel):(t.y=this.y+this.height+.1,t.y_vel=-.25*t.y_vel):(t.x>this.x?t.x=this.x+this.width+1:t.x=this.x-t.width-1,t.x_vel=-.25*t.x_vel)}}},{key:"eggCollision",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,h=this.y+this.height>t.y;e&&i&&n&&h&&(t.y_vel=0,t.y=this.y-t.height-1)}}])&&m(e.prototype,i),n&&m(e,n),t}();function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e.width,this.height=e.height,this.x=e.x,this.y=e.y}var e,i,n;return e=t,(i=[{key:"drawLava",value:function(t){t.fillStyle="#E24C00",t.fillRect(this.x,this.y,this.width,this.height)}},{key:"animate",value:function(t){this.drawLava(t)}},{key:"collisionHandler",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,h=this.y+this.height>t.y;return!!(e&&i&&n&&h)}},{key:"eggCollision",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,h=this.y+this.height>t.y;e&&i&&n&&h&&(t.y_vel=0,t.y=this.y-t.height-1)}}])&&w(e.prototype,i),n&&w(e,n),t}();function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _=.05,k=5,E=30,I=30,B=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.width=E,this.height=I,this.y_vel=0,this.status="unattainable",this.picture=!1,this.respawn=!1;var n=this;setInterval((function(){n.picture=!n.picture}),500),setTimeout((function(){n.status="attainable"}),2e3),setTimeout((function(){n.respawn=!0}),1e4)}var e,i,n;return e=t,(i=[{key:"moveEgg",value:function(){this.y+=this.y_vel,this.y_vel+=_,Math.abs(this.y_vel)>k&&(this.y_vel>0?this.y_vel=k:this.y_vel=-1*k)}},{key:"drawEgg",value:function(t){var e;e="unattainable"===this.status||this.picture?"lightsaber":"lightsaber-flashing";var i=document.getElementById(e);t.drawImage(i,this.x-5,this.y-5,this.width+10,this.height+10)}},{key:"animate",value:function(t){this.moveEgg(),this.drawEgg(t)}},{key:"collisionHandler",value:function(t){var e=this.x<t.x+t.width,i=this.x+this.width>t.x,n=this.y<t.y+t.height,h=this.y+this.height>t.y;return!!(e&&i&&n&&h)&&("attainable"===this.status||void 0)}}])&&b(e.prototype,i),n&&b(e,n),t}();function C(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=function(){function t(e,i,n,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.x=i,this.y=n,this.time=h,this.kill=!1;var s=this;setTimeout((function(){s.kill=!0}),s.time)}var e,i,n;return e=t,(i=[{key:"drawJoustAnimation",value:function(t){var e=document.getElementById(this.type);t.drawImage(e,this.x,this.y)}},{key:"animate",value:function(t){this.drawJoustAnimation(t)}}])&&C(e.prototype,i),n&&C(e,n),t}();function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var J={easy:6,medium:10,hard:15},P={easy:1e4,medium:8e3,hard:5e3},T=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.dimensions={width:e.width,height:e.height},this.Jouster=new y(this.dimensions),this.diff=i,this.running=!0,this.NPCs=[];for(var n=0;n<J[this.diff];n++)this.NPCs.push(new v(Math.floor(Math.random()*this.dimensions.width),Math.floor(Math.random()*this.dimensions.height)));var h=new x({width:500,height:30,x:250,y:470}),s=new x({width:150,height:20,x:50,y:100}),a=new x({width:150,height:20,x:400,y:125}),o=new x({width:150,height:20,x:800,y:100}),l=new x({width:150,height:20,x:50,y:300}),r=new x({width:150,height:20,x:400,y:325}),u=new x({width:150,height:20,x:800,y:300});this.ledges=[h,s,a,o,l,r,u];var c=new p({width:250,height:20,x:0,y:480}),d=new p({width:250,height:20,x:750,y:480});this.lavas=[c,d],this.eggs=[],this.animations=[],this.score=0,this.stars=[];for(var f=0;f<125;f++)this.stars.push([Math.floor(Math.random()*this.dimensions.width),Math.floor(Math.random()*this.dimensions.height)]);this.registerGameControls(),this.restart(),this.music=document.getElementById("background-music"),this.music.play();var g=this;setInterval((function(){var t=new S("lightning",Math.floor(Math.random()*g.dimensions.width),Math.floor(Math.random()*g.dimensions.height),0);g.animations.push(t),setTimeout((function(){var e=new v(t.x,t.y);g.NPCs.push(e)}),500)}),P[this.diff])}var e,i,n;return e=t,(i=[{key:"restart",value:function(){this.animate()}},{key:"registerGameControls",value:function(){var t=this;document.addEventListener("keydown",(function(e){return e.isComposing||" "===e.key?t.space():e.isComposing||"ArrowLeft"===e.key?t.moveLeft():e.isComposing||"ArrowRight"===e.key?t.moveRight():e.isComposing||"m"===e.key?t.exitToMenu():void 0}))}},{key:"space",value:function(t){this.Jouster.fly()}},{key:"moveLeft",value:function(t){this.Jouster.moveLeft()}},{key:"moveRight",value:function(t){this.Jouster.moveRight()}},{key:"animate",value:function(){var t=this;this.drawBackground(this.ctx),this.ledges.forEach((function(e){e.animate(t.ctx)})),this.lavas.forEach((function(e){e.animate(t.ctx)})),this.drawScore(this.ctx),this.drawLives(this.ctx),this.Jouster.animate(this.ctx),this.NPCs.forEach((function(e){e.animate(t.ctx)})),this.eggs.forEach((function(e){e.animate(t.ctx)})),this.animations.forEach((function(e){e.animate(t.ctx)})),this.collisionCheck(),this.eggRespawn(),this.joustAnimationDisplay(),this.req=requestAnimationFrame(this.animate.bind(this)),this.running||cancelAnimationFrame(this.req)}},{key:"exitToMenu",value:function(){this.music.pause(),this.running=!1,document.getElementById("joust").style.zIndex="2",document.getElementById("cantina").play()}},{key:"gameOver",value:function(){this.music.pause(),document.getElementById("palpatine").play(),this.running=!1,document.getElementById("leaderboard-right").style.zIndex="4"}},{key:"drawBackground",value:function(t){t.fillStyle="#191919",t.fillRect(0,0,this.dimensions.width,this.dimensions.height),this.stars.forEach((function(e){t.fillStyle="white",t.fillRect(e[0],e[1],2,2)}))}},{key:"collisionCheck",value:function(){var t=this;this.NPCs.forEach((function(e,i){if(e.collidedWith(t.Jouster)&&!t.Jouster.ethereal)if(e.collide(t.Jouster)){var n=["collision1","collision2","collision3"],h=n[Math.floor(Math.random()*n.length)];document.getElementById(h).play(),t.NPCs.splice(i,1),t.eggs.push(new B(e.x,e.y))}else 1===t.Jouster.lives?t.gameOver():t.Jouster.dead()})),t.ledges.forEach((function(e){e.collisionHandler(t.Jouster),t.eggs.forEach((function(t){e.eggCollision(t)}))})),t.lavas.forEach((function(e){!t.Jouster.ethereal&&e.collisionHandler(t.Jouster)&&(1===t.Jouster.lives?t.gameOver():t.Jouster.dead()),t.eggs.forEach((function(t){e.eggCollision(t)}))})),t.eggs.forEach((function(e,i){e.collisionHandler(t.Jouster)&&(document.getElementById("pickup").play(),t.score+=150,t.animations.push(new S("score-tag",e.x-10,e.y-10,1e3)),t.eggs.splice(i,1))}))}},{key:"eggRespawn",value:function(){var t=this;this.eggs.forEach((function(e,i){if(e.respawn){t.eggs.splice(i,1),t.animations.push(new S("lightning",e.x-5,e.y-5,300));var n=new v(e.x,e.y);t.NPCs.push(n),n.y!==e.y&&t.animations.push(new S("lightning",n.x-5,n.y-5,300))}}))}},{key:"joustAnimationDisplay",value:function(){var t=this;this.animations.forEach((function(e,i){e.kill&&t.animations.splice(i,1)}))}},{key:"drawScore",value:function(t){var e=0===this.score?65:90;t.fillStyle="white",t.fillRect(506,13,e+4,24),t.fillStyle="#191919",t.fillRect(508,15,e,20),t.font="18px Sans Serif",t.fillStyle="white";var i="Score: ".concat(this.score);t.fillText(i,510,30)}},{key:"drawLives",value:function(t){t.fillStyle="white",t.fillRect(396,13,59,24),t.fillStyle="#191919",t.fillRect(398,15,55,20);var e=document.getElementById("heart");t.drawImage(e,393,10,40,40),t.font="18px Sans Serif",t.fillStyle="white";var i="x ".concat(this.Jouster.lives);t.fillText(i,425,30)}}])&&M(e.prototype,i),n&&M(e,n),t}(),j=document.getElementById("joust"),L=document.getElementById("easy-button"),O=document.getElementById("medium-button"),R=document.getElementById("hard-button"),z=document.getElementById("music-button"),N=document.getElementById("leaderboard-play-again"),A=document.getElementById("leaderboard-back-to-menu"),H=document.getElementById("background-music"),q=document.getElementById("collision1"),D=document.getElementById("collision2"),F=document.getElementById("collision3"),G=document.getElementById("palpatine"),W=document.getElementById("death-sound"),K=document.getElementById("pickup"),Q=document.getElementById("cantina");Q.volume=.2,Q.play(),z.addEventListener("click",(function(){var t=[H,Q,q,D,F,G,W,K];Q.volume>0?(t.forEach((function(t){return t.volume=0})),document.getElementById("music-button-image").src="./src/images/muted.png"):(t.forEach((function(t){return t.volume=.3})),document.getElementById("music-button-image").src="./src/images/unmuted.png")})),L.addEventListener("click",(function(){Q.pause(),j.style.zIndex="4",L.blur(),j.focus(),localStorage.setItem("game","easy"),new T(j,"easy")})),O.addEventListener("click",(function(){Q.pause(),j.style.zIndex="4",O.blur(),j.focus(),localStorage.setItem("game","medium"),new T(j,"medium")})),R.addEventListener("click",(function(){Q.pause(),j.style.zIndex="4",R.blur(),j.focus(),localStorage.setItem("game","hard"),new T(j,"hard")})),N.addEventListener("click",(function(){document.getElementById("leaderboard-right").style.zIndex="1",j.style.zIndex="4",N.blur(),j.focus();var t=["easy","medium","hard"].includes(localStorage.getItem("game"))?localStorage.getItem("game"):"medium";new T(j,t)})),A.addEventListener("click",(function(){document.getElementById("leaderboard-right").style.zIndex="1",j.style.zIndex="2",document.getElementById("cantina").play(),A.blur()}))}]);
//# sourceMappingURL=main.js.map